// Generated by CoffeeScript 1.8.0
(function($) {
  var current, doc, isVisible, showThumbs, thumbs, toggle, toggleOff, total;
  doc = $(document);
  toggle = $('.head-toggle');
  isVisible = false;
  toggleOff = function(e) {
    if (!$(e.target).closest('.head-navigation').length) {
      return toggle.trigger('click.rj');
    }
  };
  toggle.on('click.rj', function(e) {
    e.preventDefault();
    if (isVisible) {
      $('.head-nav').removeClass('active');
      doc.off('click.rj');
    } else {
      $('.head-nav').addClass('active');
      doc.on('click.rj', toggleOff);
    }
    isVisible = !isVisible;
  });
  $('.nav-tabs').on('click.rj', 'a', function(e) {
    e.preventDefault();
    $(this.hash).show().siblings().hide();
    return $(this).parent().addClass('active').siblings().removeClass('active');
  }).find('a:first').trigger('click.rj');
  $('.fancy,a[href$=".gif"],a[href$=".jpg"],a[href$=".jpeg"],a[href$=".png"]').fancybox();
  $('.gallery-view').off('click').on('click', function(e) {
    e.preventDefault();
    return $(this).next().trigger('click');
  });
  thumbs = $('.gallery-thumb');
  if (thumbs.length > 4) {
    showThumbs = function() {
      return thumbs.hide().slice(current, current + 4).show();
    };
    current = 0;
    total = thumbs.length - 4;
    thumbs.last().after('<button id="gallery-prev">‹</button><button id="gallery-next">›</button>');
    $('#gallery-prev').on('click', function(e) {
      e.preventDefault();
      if (current > 0) {
        current--;
      }
      return showThumbs();
    });
    $('#gallery-next').on('click', function(e) {
      e.preventDefault();
      if (current < total) {
        current++;
      }
      return showThumbs();
    });
  }
})(jQuery);
